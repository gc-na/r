<!--
Meta Description: # R 語言中的「函數」：用法、範例及注意事項 ## 概要 在 R 語言中，函數是重用代碼的重要工具，允許用戶定義一組執行特定任務的指令。通過函數，用戶可以簡化複雜的計算，增強代碼的可讀性和維護性。 ## 文檔 ### 目的 函數在 R 中的主要目的是將代碼模組化，使用者可以通過定義函數來封裝邏輯，...
Meta Keywords: function, return, print, greet, function_name
-->

# R 語言中的「函數」：用法、範例及注意事項

## 概要
在 R 語言中，函數是重用代碼的重要工具，允許用戶定義一組執行特定任務的指令。通過函數，用戶可以簡化複雜的計算，增強代碼的可讀性和維護性。

## 文檔
### 目的
函數在 R 中的主要目的是將代碼模組化，使用者可以通過定義函數來封裝邏輯，並在多個地方調用，這樣可以提高代碼的重用性和組織性。

### 用法
要定義一個函數，使用 `function` 關鍵字，語法如下：

```R
function_name <- function(arguments) {
  # 函數主體
  # 返回值
}
```

- **function_name**：自定義的函數名稱。
- **arguments**：函數接受的參數（可選）。
- **函數主體**：執行的代碼邏輯。
- **返回值**：通過 `return()` 函數返回結果（可選，若不指定，函數最後一個表達式的值會被自動返回）。

### 詳細說明
函數可以接受多個參數，也可以設置默認值，便於用戶在調用時不必提供所有參數。R 的內置函數如 `mean()`, `sum()` 等都遵循這一結構。用戶自定義函數可以提高代碼的可讀性，並使整體代碼結構更清晰。

## 範例
### 基本用法
以下是一個簡單的函數範例，用於計算兩個數字的和：

```R
add_numbers <- function(x, y) {
  return(x + y)
}

result <- add_numbers(5, 3)
print(result)  # 輸出：8
```

### 帶默認參數的函數
```R
greet <- function(name = "世界") {
  paste("你好,", name)
}

print(greet())        # 輸出：你好, 世界
print(greet("小明"))  # 輸出：你好, 小明
```

## 解釋
在使用函數時，常見的陷阱包括：
- 忘記返回值：如果函數沒有明確的 `return()` 語句，它將返回最後一個執行的表達式。
- 參數類型不匹配：若傳入的參數類型與函數要求的類型不符，可能導致錯誤或意外結果。
- 變量作用域：函數內部定義的變量在函數外部無法訪問，這可能會導致混淆。

## 一句總結
函數是 R 語言中重用代碼、提高效率和清晰度的關鍵工具，通過合理使用函數，可以簡化複雜的計算和操作。