<!--
Meta Description: # R 語言中的 ifelse 函數：條件判斷的強大工具 ## 簡介 `ifelse` 是 R 語言中的一個內建函數，用於執行向量化的條件判斷。它可以在一個表達式中根據條件的真假返回不同的值，這使得數據處理和分析變得更加高效。 ## 文件說明 ### 目的 `ifelse` 函數的主要目的是在向量化...
Meta Keywords: ifelse, result, test, yes, 不大於
-->

# R 語言中的 ifelse 函數：條件判斷的強大工具

## 簡介
`ifelse` 是 R 語言中的一個內建函數，用於執行向量化的條件判斷。它可以在一個表達式中根據條件的真假返回不同的值，這使得數據處理和分析變得更加高效。

## 文件說明
### 目的
`ifelse` 函數的主要目的是在向量化操作中根據條件返回不同的結果。這使得在處理數據時，可以迅速對數據進行分類或轉換。

### 使用方法
`ifelse` 的基本語法如下：
```R
ifelse(test, yes, no)
```
- `test`：一個邏輯向量，該向量的每個元素都會被評估。
- `yes`：當 `test` 中的對應元素為 `TRUE` 時返回的值。
- `no`：當 `test` 中的對應元素為 `FALSE` 時返回的值。

### 詳細說明
`ifelse` 函數的返回值類型取決於 `yes` 和 `no` 的類型，這使得它能夠在不同類型的數據中靈活運用。此外，`ifelse` 適合處理大規模數據，因為它比傳統的 `if` 語句更高效。

## 範例
以下是一些基本的 `ifelse` 使用範例：

### 範例 1：簡單條件判斷
```R
x <- c(1, 2, 3, 4, 5)
result <- ifelse(x > 3, "大於 3", "不大於 3")
print(result)
# [1] "不大於 3" "不大於 3" "不大於 3" "大於 3" "大於 3"
```

### 範例 2：處理缺失值
```R
y <- c(NA, 2, NA, 4)
result <- ifelse(is.na(y), 0, y)
print(result)
# [1] 0 2 0 4
```

### 範例 3：多重條件
```R
z <- c(5, 10, 15)
result <- ifelse(z < 10, "小於 10", ifelse(z < 15, "介於 10 和 15", "大於等於 15"))
print(result)
# [1] "小於 10" "介於 10 和 15" "大於等於 15"
```

## 解釋
使用 `ifelse` 時，常見的陷阱包括：
- 確保 `test` 的長度與 `yes` 和 `no` 的長度相符，否則會報錯或產生意外的結果。
- 注意 `yes` 和 `no` 的數據類型，因為它們會影響最終的輸出類型。
- 在處理缺失值時，應當使用 `is.na` 函數來避免不必要的錯誤。

## 總結
`ifelse` 函數是 R 語言中的一個強大工具，允許用戶進行高效的條件判斷和數據轉換。